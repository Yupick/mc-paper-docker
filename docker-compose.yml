version: '3.8'

services:
  minecraft:
    build: .
    container_name: minecraft-paper
    restart: unless-stopped
    ports:
      - "25565:25565/tcp"  # Puerto Java
      - "19132:19132/udp"  # Puerto Bedrock
      - "25575:25575/tcp"  # Puerto RCON
    volumes:
      - ./worlds:/server/worlds
      - ./worlds/active/world:/server/world
      - ./worlds/active/world_nether:/server/world_nether
      - ./worlds/active/world_the_end:/server/world_the_end
      - ./worlds/active/server.properties:/server/server.properties
      - ./plugins:/server/plugins
      - ./resourcepacks:/server/resourcepacks
      - ./logs:/server/logs
    environment:
      - EULA=TRUE
      - RCON_PASSWORD=minecraft123
      - ENABLE_RCON=true
    stdin_open: true
    tty: true
